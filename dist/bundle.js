/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var e="https://docs.google.com/spreadsheets/d/e/2PACX-1vTNJqvjeu_Hox7I64HhX3y4j1SBWHswa6QO1mPwHEt2siXMP609WT__DnuGK-0Brlfq5D1a2R_iyL3g/pub?output=csv",t={Elec:"0",HVAC_REF:"2005844218"};"undefined"!=typeof window&&Object.assign(window,{SHEET_BASE_URL:e,METIER_TO_GID:t,TBM_GID:"2013584163"});var a=function(){var e=new Date,t=function(e){return String(e).padStart(2,"0")};return"".concat(e.getFullYear(),"-").concat(t(e.getMonth()+1),"-").concat(t(e.getDate()),"T").concat(t(e.getHours()),":").concat(t(e.getMinutes()))};function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=v(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,c=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,l=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw l}}}}function l(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function o(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(o=function(){return!!e})()}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function s(){var e,t,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",n=a.toStringTag||"@@toStringTag";function l(a,r,n,l){var i=r&&r.prototype instanceof c?r:c,s=Object.create(i.prototype);return u(s,"_invoke",function(a,r,n){var l,c,i,s=0,u=n||[],m=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,a){return l=t,c=0,i=e,p.n=a,o}};function d(a,r){for(c=a,i=r,t=0;!m&&s&&!n&&t<u.length;t++){var n,l=u[t],d=p.p,f=l[2];a>3?(n=f===r)&&(i=l[(c=l[4])?5:(c=3,3)],l[4]=l[5]=e):l[0]<=d&&((n=a<2&&d<l[1])?(c=0,p.v=r,p.n=l[1]):d<f&&(n=a<3||l[0]>r||r>f)&&(l[4]=a,l[5]=r,p.n=f,c=0))}if(n||a>1)return o;throw m=!0,r}return function(n,u,f){if(s>1)throw TypeError("Generator is already running");for(m&&1===u&&d(u,f),c=u,i=f;(t=c<2?e:i)||!m;){l||(c?c<3?(c>1&&(p.n=-1),d(c,i)):p.n=i:p.v=i);try{if(s=2,l){if(c||(n="next"),t=l[n]){if(!(t=t.call(l,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,c<2&&(c=0)}else 1===c&&(t=l.return)&&t.call(l),c<2&&(i=TypeError("The iterator does not provide a '"+n+"' method"),c=1);l=e}else if((t=(m=p.n<0)?i:a.call(r,p))!==o)break}catch(t){l=e,c=1,i=t}finally{s=1}}return{value:t,done:m}}}(a,n,l),!0),s}var o={};function c(){}function i(){}function m(){}t=Object.getPrototypeOf;var p=[][r]?t(t([][r]())):(u(t={},r,function(){return this}),t),d=m.prototype=c.prototype=Object.create(p);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,n,"GeneratorFunction")),e.prototype=Object.create(d),e}return i.prototype=m,u(d,"constructor",m),u(m,"constructor",i),i.displayName="GeneratorFunction",u(m,n,"GeneratorFunction"),u(d),u(d,n,"Generator"),u(d,r,function(){return this}),u(d,"toString",function(){return"[object Generator]"}),(s=function(){return{w:l,m:f}})()}function u(e,t,a,r){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}u=function(e,t,a,r){function l(t,a){u(e,t,function(e){return this._invoke(t,a,e)})}t?n?n(e,t,{value:a,enumerable:!r,configurable:!r,writable:!r}):e[t]=a:(l("next",0),l("throw",1),l("return",2))},u(e,t,a,r)}function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach(function(t){d(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function d(e,t,a){return(t=f(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function f(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}function h(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t,a,r,n,l,o){try{var c=e[l](o),i=c.value}catch(e){return void a(e)}c.done?t(i):Promise.resolve(i).then(r,n)}function _(e){return function(){var t=this,a=arguments;return new Promise(function(r,n){var l=e.apply(t,a);function o(e){g(l,r,n,o,c,"next",e)}function c(e){g(l,r,n,o,c,"throw",e)}o(void 0)})}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,l,o,c=[],i=!0,s=!1;try{if(l=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;i=!1}else for(;!(i=(r=l.call(a)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){s=!0,n=e}finally{try{if(!i&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw n}}return c}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return x(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}var E="qhse_outbox_v1",y="qhse_prefs_v1",R="qhse_lang_v1",k={"Chantier A":["Alice","Albert"],"Chantier B":["Brigitte","Bob"]};function N(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function w(e,t){if(!e||!e.length)return-1;for(var a=N(t.toLocaleString("fr-FR",{month:"long"})).toLowerCase(),r=t.getMonth()+1,n=[a,String(r),String(r).padStart(2,"0"),"".concat(String(r),"/").concat(t.getFullYear()),"".concat(String(r).padStart(2,"0"),"/").concat(t.getFullYear())],l=String(t.getDate()),o=[l,l.padStart(2,"0")],c=0;c<e.length;c++)for(var i=(e[c]||[]).map(function(e){return N((e||"").toString()).toLowerCase()}),s=0;s<i.length;s++)if(n.includes(i[s])&&o.includes((e[c+1]||[])[s]?N((e[c+1][s]||"").toString()).toLowerCase():""))return s;return-1}globalThis.QHSE_I18N||(globalThis.QHSE_I18N={fr:{home_title:"QHSE â€“ Apps chantier",home_apps:"Applications chantier",home_install:"Installer sur mobile",home_scan:"Scannez avec lâ€™appareil photo pour ouvrir lâ€™app.",install_howto_title:"Installer sur le tÃ©lÃ©phone",install_howto_body:"Ouvre lâ€™URL sur le mobile (en ligne, 1Ê³áµ‰ fois) â†’\n iPhone (Safari) : Partager â†’ Sur lâ€™Ã©cran dâ€™accueil.\n Android (Chrome) : â‹® â†’ Ajouter Ã  lâ€™Ã©cran dâ€™accueil.\nEnsuite, lâ€™app peut fonctionner hors-ligne.",tile_lmra_title:"LMRA",tile_lmra_sub:"Analyse de risque",tile_fa_title:"Premiers soins",tile_fa_sub:"Utilisation trousse",tile_stop_title:"STOP chantier",tile_stop_sub:"ImprÃ©vu / arrÃªt",tile_tbm_title:"TBM",tile_tbm_sub:"Toolbox meeting",print:"Imprimer",reset_all:"RÃ©initialiser le formulaire (tout remettre Ã  zÃ©ro)",reset_hint_team:"Remet tout Ã  zÃ©ro, exceptÃ© le nom du responsable et l'Ã©quipe.",send:"Envoyer",sending:"Envoi en coursâ€¦",queue_label:"File",prev:"PrÃ©cÃ©dent",next:"Suivant",alert_sent:"EnvoyÃ© âœ…",alert_offline_queued:"Pas de rÃ©seau : enregistrÃ© localement. Envoi auto dÃ¨s connexion.",required_field:"Champ obligatoire",required_fields:"Merci de remplir les champs obligatoires.",lmra_title:"LMRA â€“ Mobile (v3.2)",general_info:"Infos gÃ©nÃ©rales",datetime:"Date & heure",trade:"MÃ©tier",site:"Chantier",site_ph:"Ex: BÃ¢t. A â€“ Toiture",task:"TÃ¢che",task_ph:"Ex: Remplacement moteur ventilo",manager:"Responsable (Nom & PrÃ©nom)",manager_ph:"Ex: Jean Dupont",team:"Ã‰quipe",team_member_ph:"Nom & prÃ©nom",team_validate:"Valider",team_add:"Ajouter",team_empty:"(Ajouter les membres)",cond_title:"Conditions du jour",cond_task_clear:"TÃ¢che & Ã©tapes claires",cond_coactivity:"Co-activitÃ© / interfaces gÃ©rÃ©es",cond_zone:"Zone balisÃ©e / accÃ¨s maÃ®trisÃ©",cond_epi:"EPI adaptÃ©s portÃ©s",permits_title:"Permis requis",permit_fire:"Feu",permit_elec:"Ã‰lectrique",permit_confined:"Espace confinÃ©",permit_lift:"Levage",permit_other:"Autre",permit_other_ph:"PrÃ©ciser lâ€™autre permis",permit_na:"N/A",risks_title:"Risques prÃ©sents",energies_title:"Ã‰nergies",energy_electric:"Ã‰lectrique",energy_mechanical:"MÃ©canique",energy_fluid:"Hydraulique/Pneumatique",energy_gravity:"GravitÃ©",env_title:"Environnement",env_height:"Hauteur",env_weather:"Vent/MÃ©tÃ©o",env_noise:"Bruit",env_dust:"PoussiÃ¨res",env_thermal:"Chaleur/Froid",env_chemical:"Produits chimiques",ops_title:"OpÃ©rations",ops_traffic:"Circulation / engins",ops_lift:"Levage",ops_tools:"Outillage portatif",ops_atex:"ATEX",ops_confined:"Espace confinÃ©",ops_others:"Autres",ops_others_ph:"PrÃ©ciser autres opÃ©rations",measures_title:"Mesures de maÃ®trise",measures_seven:"7 rÃ¨gles consignation + test",measures_ventilation:"Ventilation / mesure gaz",measures_earth:"Mise Ã  la terre",measures_balisage:"Balisage / zonage",measures_watch:"Observateur / surveillant",measures_liftplan:"Plan de levage / CMU vÃ©rifiÃ©e",measures_anchor:"Ancrage / chutes dâ€™objets",measures_toolsok:"Outils conformes / inspection",measures_other:"Autre",measures_other_ph:"PrÃ©ciser autre mesure",top3_title:"Top 3 risques & actions",risk_ph:"Risque",action_ph:"Action immÃ©diate",resp_ph:"Responsable",decision_title:"DÃ©cision & responsable",go:"GO",no_go:"NO-GO",nogo_name:"Nom Ã  prÃ©venir",nogo_name_ph:"Nom Ã  prÃ©venir",nogo_tel:"TÃ©lÃ©phone",nogo_tel_ph:"TÃ©lÃ©phone",notes:"Notes",notes_ph:"Observationsâ€¦",fa_title:"Premiers soins",fa_info:"Informations",person:"Personne concernÃ©e",action_title:"Action (au moment du fait)",a_cut:"En coupant",a_grind:"En disquant",a_weld:"En soudant",a_drill:"En perÃ§ant",a_pushpull:"En tirant/poussant",a_lift:"En soulevant/dÃ©posant",other:"Autre",other_specify:"PrÃ©ciserâ€¦",injury_title:"Blessure",i_cut:"Coupure",i_scratch:"Ã‰gratignure",i_bruise:"Contusion (bleu/bosse)",i_proj:"Projection (poussiÃ¨re/matiÃ¨re)",i_burn:"BrÃ»lure",location_title:"Localisation de la lÃ©sion",loc_hand:"Main",loc_arm:"Bras",loc_torso:"Torse",loc_leg:"Jambe",loc_foot:"Pied",loc_head:"TÃªte",loc_eye:"Å’il",kit_title:"Trousse de secours",kit_need:"Faut-il recharger la trousse ?",no:"Non",yes:"Oui",kit_number:"NumÃ©ro de la trousse",remarks:"Remarques",stop_title:"STOP â€“ ImprÃ©vu",coords:"CoordonnÃ©es",stop_box:"STOP",stop_desc:"Expliquer la situation qui a amenÃ© au STOP",call_box:"CALL",call_name:"Responsable contactÃ© â€“ Nom",call_role:"Fonction",role_chef:"Chef d'Ã©quipe",role_site:"Site sup.",role_pm:"PM",role_opm:"OPM",role_cp:"CP",role_coord:"Coordinateur",role_client:"Client",act_box:"ACT",solution:"Solution mise en place",nogo_wait:"NO-GO â€” Situation en attente de solution"},en:{home_title:"QHSE â€“ Site apps",home_apps:"Site applications",home_install:"Install on mobile",home_scan:"Scan with the camera to open the app.",install_howto_title:"Install on the phone",install_howto_body:"Open the URL on the phone (online, first time) â†’\n iPhone (Safari): Share â†’ Add to Home Screen.\n Android (Chrome): â‹® â†’ Add to Home screen.\nThen, the app can work offline.",tile_lmra_title:"LMRA",tile_lmra_sub:"Risk assessment",tile_fa_title:"First aid",tile_fa_sub:"First-aid kit use",tile_stop_title:"STOP",tile_stop_sub:"Unplanned / stop",tile_tbm_title:"TBM",tile_tbm_sub:"Toolbox meeting",print:"Print",reset_all:"Reset form (clear everything)",reset_hint_team:"Resets everything except the manager's name and team.",send:"Send",sending:"Sendingâ€¦",queue_label:"Queue",prev:"Previous",next:"Next",alert_sent:"Sent âœ…",alert_offline_queued:"No network: saved locally. Will auto-send when online.",required_field:"Required field",required_fields:"Please fill in required fields.",lmra_title:"LMRA â€“ Mobile (v3.2)",general_info:"General info",datetime:"Date & time",trade:"Trade",site:"Construction site",site_ph:"e.g. Building A â€“ Roof",task:"Task",task_ph:"e.g. Replace fan motor",manager:"Manager (First & Last name)",manager_ph:"e.g. John Smith",team:"Team",team_member_ph:"First & last name",team_validate:"Validate",team_add:"Add",team_empty:"(Add members)",cond_title:"Day conditions",cond_task_clear:"Task & steps are clear",cond_coactivity:"Co-activity / interfaces managed",cond_zone:"Area cordoned / access controlled",cond_epi:"PPE adapted and worn",permits_title:"Required permits",permit_fire:"Hot work",permit_elec:"Electrical",permit_confined:"Confined space",permit_lift:"Lifting",permit_other:"Other",permit_other_ph:"Specify the other permit",permit_na:"N/A",risks_title:"Present risks",energies_title:"Energies",energy_electric:"Electrical",energy_mechanical:"Mechanical",energy_fluid:"Hydraulic/Pneumatic",energy_gravity:"Gravity",env_title:"Environment",env_height:"Height",env_weather:"Wind/Weather",env_noise:"Noise",env_dust:"Dust",env_thermal:"Heat/Cold",env_chemical:"Chemicals",ops_title:"Operations",ops_traffic:"Traffic / vehicles",ops_lift:"Lifting",ops_tools:"Hand tools",ops_atex:"ATEX",ops_confined:"Confined space",ops_others:"Others",ops_others_ph:"Specify other operations",measures_title:"Control measures",measures_seven:"7 lockout rules + test",measures_ventilation:"Ventilation / gas measurement",measures_earth:"Earthing",measures_balisage:"Barricading / zoning",measures_watch:"Watchman / spotter",measures_liftplan:"Lift plan / SWL checked",measures_anchor:"Anchorage / falling objects",measures_toolsok:"Tools compliant / inspection",measures_other:"Other",measures_other_ph:"Specify other measure",top3_title:"Top 3 risks & actions",risk_ph:"Risk",action_ph:"Immediate action",resp_ph:"Responsible",decision_title:"Decision & manager",go:"GO",no_go:"NO-GO",nogo_name:"Person to notify",nogo_name_ph:"Person to notify",nogo_tel:"Phone",nogo_tel_ph:"Phone",notes:"Notes",notes_ph:"Observationsâ€¦",fa_title:"First aid",fa_info:"Information",person:"Person concerned",action_title:"Action (at the time)",a_cut:"Cutting",a_grind:"Grinding",a_weld:"Welding",a_drill:"Drilling",a_pushpull:"Pulling/Pushing",a_lift:"Lifting/Setting down",other:"Other",other_specify:"Specifyâ€¦",injury_title:"Injury",i_cut:"Cut",i_scratch:"Scratch",i_bruise:"Bruise (blue/bump)",i_proj:"Projection (dust/material)",i_burn:"Burn",location_title:"Injury location",loc_hand:"Hand",loc_arm:"Arm",loc_torso:"Torso",loc_leg:"Leg",loc_foot:"Foot",loc_head:"Head",loc_eye:"Eye",kit_title:"First-aid kit",kit_need:"Do we need to restock the kit?",no:"No",yes:"Yes",kit_number:"Kit number",remarks:"Remarks",stop_title:"STOP â€“ Unexpected",coords:"Details",stop_box:"STOP",stop_desc:"Explain the situation that led to STOP",call_box:"CALL",call_name:"Responsible contacted â€“ Name",call_role:"Role",role_chef:"Team leader",role_site:"Site supervisor",role_pm:"PM",role_opm:"OPM",role_cp:"CP",role_coord:"Coordinator",role_client:"Client",act_box:"ACT",solution:"Solution implemented",nogo_wait:"NO-GO â€” Situation pending a solution"},nl:{home_title:"QHSE â€“ Werf-apps",home_apps:"Werfapplicaties",home_install:"Installeren op mobiel",home_scan:"Scan met de camera om de app te openen.",install_howto_title:"Op de telefoon installeren",install_howto_body:"Open de URL op de telefoon (online, eerste keer) â†’\n iPhone (Safari): Delen â†’ Zet op beginscherm.\n Android (Chrome): â‹® â†’ Toevoegen aan startscherm.\nDaarna kan de app offline werken.",tile_lmra_title:"LMRA",tile_lmra_sub:"Risicoanalyse",tile_fa_title:"Eerste hulp",tile_fa_sub:"Gebruik EHBO-koffer",tile_stop_title:"STOP",tile_stop_sub:"Onvoorziene stop",tile_tbm_title:"TBM",tile_tbm_sub:"Toolbox meeting",print:"Afdrukken",reset_all:"Formulier resetten (alles wissen)",reset_hint_team:"Zet alles terug behalve de naam van de verantwoordelijke en het team.",send:"Verzenden",sending:"Verzendenâ€¦",queue_label:"Wachtrij",prev:"Vorige",next:"Volgende",alert_sent:"Verzonden âœ…",alert_offline_queued:"Geen netwerk: lokaal opgeslagen. Wordt automatisch verzonden zodra online.",required_field:"Verplicht veld",required_fields:"Vul de verplichte velden in.",lmra_title:"LMRA â€“ Mobiel (v3.2)",general_info:"Algemene info",datetime:"Datum & tijd",trade:"Vak",site:"Werf",site_ph:"Bv. Gebouw A â€“ Dak",task:"Taak",task_ph:"Bv. Vervangen ventilatormotor",manager:"Verantwoordelijke (Voor- & achternaam)",manager_ph:"Bv. Jan Jansen",team:"Team",team_member_ph:"Voor- & achternaam",team_validate:"Bevestigen",team_add:"Toevoegen",team_empty:"(Voeg teamleden toe)",cond_title:"Dagcondities",cond_task_clear:"Taak & stappen zijn duidelijk",cond_coactivity:"Co-activiteit / interfaces beheerd",cond_zone:"Zone afgebakend / toegang beheerst",cond_epi:"Juiste PBM gedragen",permits_title:"Vereiste vergunningen",permit_fire:"Hete werken",permit_elec:"Elektrisch",permit_confined:"Besloten ruimte",permit_lift:"Hijswerk",permit_other:"Andere",permit_other_ph:"Specifieer de andere vergunning",permit_na:"N.v.t.",risks_title:"Aanwezige risicoâ€™s",energies_title:"EnergieÃ«n",energy_electric:"Elektrisch",energy_mechanical:"Mechanisch",energy_fluid:"Hydraulisch/Pneumatisch",energy_gravity:"Zwaartekracht",env_title:"Omgeving",env_height:"Hoogte",env_weather:"Wind/Weer",env_noise:"Lawaai",env_dust:"Stof",env_thermal:"Warmte/Kou",env_chemical:"ChemicaliÃ«n",ops_title:"Handelingen",ops_traffic:"Verkeer / voertuigen",ops_lift:"Hijswerk",ops_tools:"Handgereedschap",ops_atex:"ATEX",ops_confined:"Besloten ruimte",ops_others:"Andere",ops_others_ph:"Specifieer andere handelingen",measures_title:"Beheersmaatregelen",measures_seven:"7 lockoutregels + test",measures_ventilation:"Ventilatie / gasmeting",measures_earth:"Aarding",measures_balisage:"Afbakening / zonering",measures_watch:"Observator / spotter",measures_liftplan:"Hijsplan / SWL gecontroleerd",measures_anchor:"Ankerpunt / vallende voorwerpen",measures_toolsok:"Gereedschap conform / inspectie",measures_other:"Andere",measures_other_ph:"Specifieer andere maatregel",top3_title:"Top 3 risicoâ€™s & acties",risk_ph:"Risico",action_ph:"Onmiddellijke actie",resp_ph:"Verantwoordelijke",decision_title:"Beslissing & verantwoordelijke",go:"GO",no_go:"NO-GO",nogo_name:"Te verwittigen naam",nogo_name_ph:"Te verwittigen naam",nogo_tel:"Telefoon",nogo_tel_ph:"Telefoon",notes:"Opmerkingen",notes_ph:"Opmerkingenâ€¦",fa_title:"Eerste hulp",fa_info:"Informatie",person:"Betrokken persoon",action_title:"Handeling (op het moment)",a_cut:"Bij snijden",a_grind:"Bij slijpen",a_weld:"Bij lassen",a_drill:"Bij boren",a_pushpull:"Bij trekken/duwen",a_lift:"Bij heffen/neerzetten",other:"Andere",other_specify:"Specifieerâ€¦",injury_title:"Letsel",i_cut:"Snijwonde",i_scratch:"Schaafwonde",i_bruise:"Kneuzing (blauw/buil)",i_proj:"Projectie (stof/materiaal)",i_burn:"Brandwonde",location_title:"Plaats van het letsel",loc_hand:"Hand",loc_arm:"Arm",loc_torso:"Romp",loc_leg:"Been",loc_foot:"Voet",loc_head:"Hoofd",loc_eye:"Oog",kit_title:"EHBO-koffer",kit_need:"Moet de koffer aangevuld worden?",no:"Nee",yes:"Ja",kit_number:"Koffernummer",remarks:"Opmerkingen",stop_title:"STOP â€“ Onvoorzien",coords:"Gegevens",stop_box:"STOP",stop_desc:"Leg de situatie uit die tot STOP heeft geleid",call_box:"CALL",call_name:"Gecontacteerde verantwoordelijke â€“ Naam",call_role:"Functie",role_chef:"Ploegbaas",role_site:"Siteverantw.",role_pm:"PM",role_opm:"OPM",role_cp:"CP",role_coord:"CoÃ¶rdinator",role_client:"Klant",act_box:"ACT",solution:"Ingevoerde oplossing",nogo_wait:"NO-GO â€” Situatie in afwachting van oplossing"}});var C=globalThis.QHSE_I18N,S=function(){return location.hash.replace(/^#\/?/,"")||"home"},O=function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){}},T=function(e,t){try{var a=localStorage.getItem(e);return a?JSON.parse(a):t}catch(e){return t}},j=React.createContext({lang:"fr",t:function(e){return e},setLang:function(){}});function P(e){var t=e.children,a=b(React.useState(T(R,"fr")),2),r=a[0],n=a[1];return React.createElement(j.Provider,{value:{lang:r,t:function(e){return C[r]&&C[r][e]||C.fr&&C.fr[e]||e},setLang:function(e){n(e),O(R,e)}}},t)}var A=function(){return React.useContext(j)};function q(e){var t=e.title,a=e.tone,r=void 0===a?"default":a,n=e.children,l={default:{border:"border-gray-200",bar:"bg-gray-50",title:"text-gray-800",bg:"bg-white"},slate:{border:"border-slate-300",bar:"bg-slate-50",title:"text-slate-900",bg:"bg-white"},blue:{border:"border-blue-300",bar:"bg-blue-50",title:"text-blue-900",bg:"bg-white"},green:{border:"border-green-300",bar:"bg-green-50",title:"text-green-900",bg:"bg-white"},red:{border:"border-red-300",bar:"bg-red-50",title:"text-red-900",bg:"bg-white"},amber:{border:"border-amber-300",bar:"bg-amber-50",title:"text-amber-900",bg:"bg-white"},dark:{border:"border-gray-700",bar:"bg-gray-700",title:"text-white",bg:"bg-gray-700"}},o=l[r]||l.default;return React.createElement("section",{className:"rounded-2xl border ".concat(o.border," ").concat(o.bg," shadow-sm overflow-hidden mb-4")},React.createElement("div",{className:"px-4 py-2 border-b ".concat(o.border," ").concat(o.bar," text-base font-medium ").concat(o.title)},t),React.createElement("div",{className:"p-4"},n))}function M(e){var t=e.checked,a=e.onChange,r=e.label;return React.createElement("label",{className:"flex items-center justify-between gap-3 py-2"},React.createElement("span",{className:"text-sm"},r),React.createElement("input",{type:"checkbox",className:"w-5 h-5 accent-black",checked:t,onChange:function(e){return a(e.target.checked)}}))}function I(e){return L.apply(this,arguments)}function L(){return(L=_(s().m(function e(t){var a;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch("https://script.google.com/macros/s/AKfycbw53EiERifnozNg9ybNfbn_Ofm9NrFquashw_mbYoWyqtQROS6xXXzwVT2UQ4XxcJYK/exec",{method:"POST",mode:"no-cors",headers:{"Content-Type":"text/plain"},body:JSON.stringify(t)});case 1:return e.a(2,!0);case 2:return e.p=2,a=e.v,console.warn(a),e.a(2,!1)}},e,null,[[0,2]])}))).apply(this,arguments)}function D(e){var t=T(E,[]);t.unshift(e),O(E,t.slice(0,500))}function B(){return(B=_(s().m(function e(){var t,a,r,l,o,c,i;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:if((t=T(E,[])).length){e.n=1;break}return e.a(2,{sent:0,left:0});case 1:a=0,r=[],l=n(t),e.p=2,l.s();case 3:if((o=l.n()).done){e.n=6;break}return c=o.value,e.n=4,I(c);case 4:e.v?a++:r.push(c);case 5:e.n=3;break;case 6:e.n=8;break;case 7:e.p=7,i=e.v,l.e(i);case 8:return e.p=8,l.f(),e.f(8);case 9:return O(E,r),e.a(2,{sent:a,left:r.length})}},e,null,[[2,7,8,9]])}))).apply(this,arguments)}function G(){var e=A().t,t=globalThis.QHSE_Tile||function(e){var t=e.href,a=e.icon,r=e.img,n=e.title,l=e.sub,o=e.muted;return React.createElement("a",{href:t||"#",className:["rounded-2xl p-4 text-center transition border",o?"border-dashed text-gray-300 pointer-events-none select-none":"hover:bg-gray-50"].join(" ")},r?React.createElement("img",{src:r,alt:"",className:"w-10 h-10 mx-auto rounded "+(o?"opacity-40":"")}):React.createElement("div",{className:"text-3xl font-bold "+(o?"opacity-40":"")},a||"ï¼‹"),n&&React.createElement("div",{className:"font-semibold mt-2"},n),l&&React.createElement("div",{className:"text-xs text-gray-500 mt-0.5"},l))},a=(location.origin+location.pathname).replace(/#.*$/,"");return React.createElement("main",{className:"max-w-md mx-auto p-4"},React.createElement(q,{title:e("home_apps")},React.createElement("div",{className:"grid grid-cols-2 gap-4"},React.createElement(t,{href:"#lmra",icon:"ðŸ¦º",title:e("tile_lmra_title"),sub:e("tile_lmra_sub")}),React.createElement(t,{href:"#firstaid",img:"firstaid-icon.svg",title:e("tile_fa_title"),sub:e("tile_fa_sub")}),React.createElement(t,{href:"#stop",icon:"ðŸš¦",title:e("tile_stop_title"),sub:e("tile_stop_sub")}),React.createElement(t,{href:"tbm.html",icon:"ðŸ§°",title:e("tile_tbm_title"),sub:e("tile_tbm_sub")}))),React.createElement(q,{title:e("home_install")},React.createElement("div",{className:"flex flex-col items-center gap-3"},React.createElement("img",{src:"https://api.qrserver.com/v1/create-qr-code/?size=220x220&data="+encodeURIComponent(a),alt:"QR",className:"w-44 h-44 rounded-lg border bg-white"}),React.createElement("div",{className:"text-xs text-gray-500"},e("home_scan")))),React.createElement(q,{title:e("install_howto_title")},React.createElement("pre",{className:"whitespace-pre-wrap text-xs bg-gray-50 rounded-xl p-3 border"},e("install_howto_body"))))}function H(){var r=A().t,n="qhse_lmra_state_v1",l=T(y,{responsable:"",team:[]}),o=function(){return{version:"v3.2",datetime:a(),metier:"",site:"",task:"",chantierManual:"",responsable:l.responsable||"",responsableManual:"",team:Array.isArray(l.team)?h(l.team):[],teamInput:"",conditions:{tacheClaires:!1,coactivite:!1,zonage:!1,epi:!1},permits:{feu:!1,electrique:!1,confine:!1,levage:!1,autre:!1,autreText:"",na:!1},risks:{energies:{electrique:!1,mecanique:!1,fluide:!1,gravite:!1,autre:!1,autreText:""},environnement:{hauteur:!1,meteo:!1,bruit:!1,poussiere:!1,thermique:!1,chimique:!1},operations:{trafic:!1,levage:!1,outillage:!1,atex:!1,confine:!1,autres:!1,autresText:""}},measures:{septRegles:!1,ventilation:!1,terre:!1,balisage:!1,surveillant:!1,planLevage:!1,ancrage:!1,outilsOk:!1,autre:!1,autreText:""},top3:[{risk:"",action:"",resp:""},{risk:"",action:"",resp:""},{risk:"",action:"",resp:""}],decision:"GO",noGo:{name:"",tel:""},notes:""}},c=b(React.useState(T(n,o())),2),i=c[0],u=c[1],m=b(React.useState(0),2),f=m[0],g=m[1],v=b(React.useState({}),2),x=v[0],E=v[1],R=b(React.useState([]),2),k=R[0],C=R[1],S=b(React.useState([]),2),j=S[0],P=S[1],L=b(React.useState([]),2),B=L[0],G=L[1],H=React.useRef({}),z=b(React.useState(null),2),F=z[0],V=z[1];React.useEffect(function(){O(n,i)},[i]),React.useEffect(function(){var a=i.metier;if(!a)return V(null),C([]),P([]),void G([]);var r=t[a];if(H.current[a]){var n=H.current[a];V(n)}else if(r){var l=function(e,t){try{var a=new URL(e);return a.searchParams.set("output","csv"),a.searchParams.set("gid",t),a.toString()}catch(e){return null}}(e,r);(function(e){return new Promise(function(t,a){e?Papa.parse(e,{download:!0,complete:function(e){return t(e.data)},error:function(e){return a(e)}}):a(new Error("URL invalide"))})})(l).then(function(e){H.current[a]=e,V(e)}).catch(function(){V(null)})}},[i.metier]),React.useEffect(function(){if(F&&!i.chantierManual.trim()){var e=w(F,new Date(i.datetime));if(-1!==e){for(var t=new Set,a=7;a<F.length;a++){var r=(F[a][e]||"").trim();if(r){var n=N(r).toLowerCase();"conge"!==n&&"malade"!==n&&t.add(r)}}C(Array.from(t).sort(function(e,t){return e.localeCompare(t,"fr")}))}else C([])}else C([])},[F,i.datetime,i.chantierManual]),React.useEffect(function(){if(!F||i.chantierManual.trim())return P([]),void G([]);var e=i.site;if(!e)return P([]),void G([]);var t=w(F,new Date(i.datetime));if(-1===t)return P([]),void G([]);for(var a=[],r=[],n=7;n<F.length;n++){var l=(F[n][0]||"").trim().toUpperCase(),o=(F[n][1]||"").trim();(F[n][t]||"").trim()===e&&("CE"===l?a.push(o):r.push(o))}P(a),G(r.sort(function(e,t){return e.localeCompare(t,"fr")}))},[F,i.site,i.datetime,i.chantierManual]);var W=function(e,t){return u(p(p({},i),{},d({},e,t)))},Q=function(){var e=_(s().m(function e(){var t,a,n;return s().w(function(e){for(;;)switch(e.n){case 0:return t={meta:{sentAt:(new Date).toISOString(),page:location.href,userAgent:navigator.userAgent,formType:"lmra"},data:p(p({},i),{},{site:i.chantierManual.trim()||i.site,responsable:i.responsableManual.trim()||i.responsable})},e.n=1,I(t);case 1:e.v?(alert(r("alert_sent")),a=i.chantierManual.trim()||i.site,n=i.responsableManual.trim()||i.responsable,O(y,{responsable:n,team:i.team}),u(p(p({},o()),{},{site:a,responsable:n,team:i.team})),g(0),E({})):(D(t),alert(r("alert_offline_queued")));case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return React.createElement("main",{className:"max-w-md mx-auto p-4"},React.createElement("h1",{className:"mb-3 px-4 py-2 rounded-xl bg-[#104861] text-[#D9D9D9] text-center"},r("lmra_title")),React.createElement("div",{className:"mb-3"},React.createElement("button",{onClick:function(){u(p(p({},o()),{},{responsable:i.responsable,team:i.team})),g(0)},className:"px-3 py-2 rounded-xl border"},r("reset_all")),React.createElement("div",{className:"text-xs text-gray-500 mt-1"},r("reset_hint_team"))),React.createElement("div",{className:"mb-4"},React.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2"},React.createElement("div",{className:"bg-black h-2 rounded-full",style:{width:"".concat((f+1)/6*100,"%")}})),React.createElement("div",{className:"text-center text-xs mt-1"},f+1,"/",6)),0===f&&React.createElement(q,{title:r("general_info")},React.createElement("div",{className:"flex flex-col gap-3"},React.createElement("label",{className:"text-sm"},r("datetime"),React.createElement("input",{type:"datetime-local",value:i.datetime,onChange:function(e){return W("datetime",e.target.value)},className:"mt-1 w-full px-3 py-2 rounded-xl border"})),React.createElement("label",{className:"text-sm"},r("trade"),React.createElement("select",{value:i.metier,onChange:function(e){var t=e.target.value;u(p(p({},i),{},{metier:t,site:"",chantierManual:"",responsable:"",responsableManual:"",team:[],teamInput:""})),x.metier&&E(p(p({},x),{},{metier:!1}))},className:"mt-1 w-full px-3 py-2 rounded-xl border ".concat(x.metier?"border-red-500":"")},React.createElement("option",{value:""}),Object.keys(t).map(function(e){return React.createElement("option",{key:e,value:e},e)})),x.metier&&React.createElement("div",{className:"text-red-600 text-xs mt-1"},r("required_field"))),React.createElement("label",{className:"text-sm"},r("site"),React.createElement("select",{value:i.site,onChange:function(e){var t=e.target.value;u(p(p({},i),{},{site:t,chantierManual:"",responsable:"",responsableManual:"",team:[]})),x.site&&E(p(p({},x),{},{site:!1}))},className:"mt-1 w-full px-3 py-2 rounded-xl border ".concat(x.site?"border-red-500":""),disabled:!!i.chantierManual.trim()||!k.length},React.createElement("option",{value:""}),k.map(function(e){return React.createElement("option",{key:e,value:e},e)})),React.createElement("input",{value:i.chantierManual,onChange:function(e){var t=e.target.value;u(p(p({},i),{},{chantierManual:t,site:t?"":i.site,responsable:t?"":i.responsable,responsableManual:"",team:t?[]:i.team}))},placeholder:"Ajouter manuellement",className:"mt-1 w-full px-3 py-2 rounded-xl border"}),x.site&&React.createElement("div",{className:"text-red-600 text-xs mt-1"},r("required_field"))),React.createElement("label",{className:"text-sm"},r("task"),React.createElement("input",{value:i.task,onChange:function(e){return W("task",e.target.value)},placeholder:r("task_ph"),className:"mt-1 w-full px-3 py-2 rounded-xl border"})),React.createElement("label",{className:"text-sm"},r("manager"),React.createElement("select",{value:i.responsable,onChange:function(e){var t=e.target.value;u(p(p({},i),{},{responsable:t,responsableManual:""})),x.responsable&&E(p(p({},x),{},{responsable:!1}))},className:"mt-1 w-full px-3 py-2 rounded-xl border ".concat(x.responsable?"border-red-500":""),disabled:!!i.responsableManual.trim()||!j.length},React.createElement("option",{value:""}),j.map(function(e){return React.createElement("option",{key:e,value:e},e)})),React.createElement("input",{value:i.responsableManual,onChange:function(e){var t=e.target.value;u(p(p({},i),{},{responsableManual:t,responsable:t?"":i.responsable})),x.responsable&&E(p(p({},x),{},{responsable:!1}))},placeholder:r("manager_ph"),className:"mt-1 w-full px-3 py-2 rounded-xl border"}),x.responsable&&React.createElement("div",{className:"text-red-600 text-xs mt-1"},r("required_field"))),React.createElement("div",null,React.createElement("div",{className:"flex justify-between items-center mb-2"},React.createElement("label",{className:"text-sm"},r("team")),B.length>0&&React.createElement("button",{onClick:function(){var e=B.every(function(e){return i.team.includes(e)});u(p(p({},i),{},e?{team:i.team.filter(function(e){return!B.includes(e)})}:{team:Array.from(new Set([].concat(h(i.team),h(B))))}))},className:"text-sm text-blue-600 underline"},"Tout cocher")),React.createElement("div",{className:"flex flex-col gap-1 mb-2"},B.map(function(e){return React.createElement("label",{key:e,className:"inline-flex items-center gap-2"},React.createElement("input",{type:"checkbox",className:"rounded",checked:i.team.includes(e),onChange:function(t){t.target.checked?u(p(p({},i),{},{team:[].concat(h(i.team),[e])})):u(p(p({},i),{},{team:i.team.filter(function(t){return t!==e})}))}}),e)})),React.createElement("div",{className:"flex gap-2 mb-2"},React.createElement("input",{value:i.teamInput,onChange:function(e){return u(p(p({},i),{},{teamInput:e.target.value}))},placeholder:r("team_member_ph"),className:"flex-1 px-3 py-2 rounded-xl border"}),React.createElement("button",{onClick:function(){var e=i.teamInput.split(",").map(function(e){return e.trim()}).filter(function(e){return e});if(e.length){var t=Array.from(new Set([].concat(h(i.team),h(e))));u(p(p({},i),{},{team:t,teamInput:""}))}},className:"px-3 py-2 rounded-xl border"},r("team_add"))),React.createElement("div",{className:"flex flex-wrap gap-2"},i.team.filter(function(e){return!B.includes(e)}).map(function(e){return React.createElement("span",{key:e,className:"inline-flex items-center gap-2 text-sm px-3 py-1 rounded-full bg-gray-100"},e,React.createElement("button",{onClick:function(){return u(p(p({},i),{},{team:i.team.filter(function(t){return t!==e})}))},className:"w-5 h-5 inline-flex items-center justify-center rounded-full border border-gray-300"},"Ã—"))}),0===i.team.length&&React.createElement("span",{className:"text-sm text-gray-400"},r("team_empty"))),x.team&&React.createElement("div",{className:"text-red-600 text-xs mt-1"},r("required_field"))))),1===f&&React.createElement(q,{title:r("cond_title")},React.createElement("div",{className:"flex flex-col gap-3"},React.createElement(M,{checked:i.conditions.tacheClaires,onChange:function(e){return u(p(p({},i),{},{conditions:p(p({},i.conditions),{},{tacheClaires:e})}))},label:r("cond_task_clear")}),React.createElement(M,{checked:i.conditions.coactivite,onChange:function(e){return u(p(p({},i),{},{conditions:p(p({},i.conditions),{},{coactivite:e})}))},label:r("cond_coactivity")}),React.createElement(M,{checked:i.conditions.zonage,onChange:function(e){return u(p(p({},i),{},{conditions:p(p({},i.conditions),{},{zonage:e})}))},label:r("cond_zone")}),React.createElement(M,{checked:i.conditions.epi,onChange:function(e){return u(p(p({},i),{},{conditions:p(p({},i.conditions),{},{epi:e})}))},label:r("cond_epi")}),React.createElement("hr",{className:"my-3 border-gray-200"}),React.createElement("div",null,React.createElement("div",{className:"text-sm font-medium mb-2"},r("permits_title")),React.createElement("div",{className:"grid grid-cols-2 gap-2"},React.createElement("label",{className:"flex items-center gap-2 text-sm"},React.createElement("input",{type:"checkbox",className:"w-4 h-4 accent-black",checked:i.permits.feu,onChange:function(e){return u(p(p({},i),{},{permits:p(p({},i.permits),{},{feu:e.target.checked})}))}}),r("permit_fire")),React.createElement("label",{className:"flex items-center gap-2 text-sm"},React.createElement("input",{type:"checkbox",className:"w-4 h-4 accent-black",checked:i.permits.electrique,onChange:function(e){return u(p(p({},i),{},{permits:p(p({},i.permits),{},{electrique:e.target.checked})}))}}),r("permit_elec")),React.createElement("label",{className:"flex items-center gap-2 text-sm"},React.createElement("input",{type:"checkbox",className:"w-4 h-4 accent-black",checked:i.permits.confine,onChange:function(e){return u(p(p({},i),{},{permits:p(p({},i.permits),{},{confine:e.target.checked})}))}}),r("permit_confined")),React.createElement("label",{className:"flex items-center gap-2 text-sm"},React.createElement("input",{type:"checkbox",className:"w-4 h-4 accent-black",checked:i.permits.levage,onChange:function(e){return u(p(p({},i),{},{permits:p(p({},i.permits),{},{levage:e.target.checked})}))}}),r("permit_lift")),React.createElement("label",{className:"flex items-center gap-2 text-sm"},React.createElement("input",{type:"checkbox",className:"w-4 h-4 accent-black",checked:i.permits.autre,onChange:function(e){return u(p(p({},i),{},{permits:p(p({},i.permits),{},{autre:e.target.checked})}))}}),r("permit_other")),React.createElement("label",{className:"flex items-center gap-2 text-sm"},React.createElement("input",{type:"checkbox",className:"w-4 h-4 accent-black",checked:i.permits.na,onChange:function(e){return u(p(p({},i),{},{permits:p(p({},i.permits),{},{na:e.target.checked})}))}}),r("permit_na"))),i.permits.autre&&React.createElement("input",{value:i.permits.autreText,onChange:function(e){return u(p(p({},i),{},{permits:p(p({},i.permits),{},{autreText:e.target.value})}))},placeholder:r("permit_other_ph"),className:"mt-2 w-full px-3 py-2 rounded-xl border"})))),2===f&&React.createElement(q,{title:r("risks_title")},React.createElement("div",{className:"flex flex-col gap-3"},React.createElement("div",null,React.createElement("div",{className:"text-sm font-medium mb-2"},r("energies_title")),React.createElement("div",{className:"grid grid-cols-2 gap-2"},React.createElement("label",{className:"flex items-center gap-2 text-sm"},React.createElement("input",{type:"checkbox",className:"w-4 h-4 accent-black",checked:i.risks.energies.electrique,onChange:function(e){return u(p(p({},i),{},{risks:p(p({},i.risks),{},{energies:p(p({},i.risks.energies),{},{electrique:e.target.checked})})}))}}),r("energy_electric")),React.createElement("label",{className:"flex items-center gap-2 text-sm"},React.createElement("input",{type:"checkbox",className:"w-4 h-4 accent-black",checked:i.risks.energies.mecanique,onChange:function(e){return u(p(p({},i),{},{risks:p(p({},i.risks),{},{energies:p(p({},i.risks.energies),{},{mecanique:e.target.checked})})}))}}),r("energy_mechanical")),React.createElement("label",{className:"flex items-center gap-2 text-sm"},React.createElement("input",{type:"checkbox",className:"w-4 h-4 accent-black",checked:i.risks.energies.fluide,onChange:function(e){return u(p(p({},i),{},{risks:p(p({},i.risks),{},{energies:p(p({},i.risks.energies),{},{fluide:e.target.checked})})}))}}),r("energy_fluid")),React.createElement("label",{className:"flex items-center gap-2 text-sm"},React.createElement("input",{type:"checkbox",className:"w-4 h-4 accent-black",checked:i.risks.energies.gravite,onChange:function(e){return u(p(p({},i),{},{risks:p(p({},i.risks),{},{energies:p(p({},i.risks.energies),{},{gravite:e.target.checked})})}))}}),r("energy_gravity")),React.createElement("label",{className:"flex items-center gap-2 text-sm col-span-2"},React.createElement("input",{type:"checkbox",className:"w-4 h-4 accent-black",checked:i.risks.energies.autre,onChange:function(e){return u(p(p({},i),{},{risks:p(p({},i.risks),{},{energies:p(p({},i.risks.energies),{},{autre:e.target.checked})})}))}}),r("other"))),i.risks.energies.autre&&React.createElement("input",{value:i.risks.energies.autreText,onChange:function(e){return u(p(p({},i),{},{risks:p(p({},i.risks),{},{energies:p(p({},i.risks.energies),{},{autreText:e.target.value})})}))},placeholder:r("other_specify"),className:"mt-2 w-full px-3 py-2 rounded-xl border"})),React.createElement("hr",{className:"my-3 border-gray-200"}),React.createElement("div",null,React.createElement("div",{className:"text-sm font-medium mb-2"},r("env_title")),React.createElement("div",{className:"grid grid-cols-2 gap-2"},[["hauteur","env_height"],["meteo","env_weather"],["bruit","env_noise"],["poussiere","env_dust"],["thermique","env_thermal"],["chimique","env_chemical"]].map(function(e){var t=b(e,2),a=t[0],n=t[1];return React.createElement("label",{key:a,className:"flex items-center gap-2 text-sm"},React.createElement("input",{type:"checkbox",className:"w-4 h-4 accent-black",checked:i.risks.environnement[a],onChange:function(e){return u(p(p({},i),{},{risks:p(p({},i.risks),{},{environnement:p(p({},i.risks.environnement),{},d({},a,e.target.checked))})}))}}),r(n))}))),React.createElement("hr",{className:"my-3 border-gray-200"}),React.createElement("div",null,React.createElement("div",{className:"text-sm font-medium mb-2"},r("ops_title")),React.createElement("div",{className:"grid grid-cols-2 gap-2"},[["trafic","ops_traffic"],["levage","ops_lift"],["outillage","ops_tools"],["atex","ops_atex"],["confine","ops_confined"]].map(function(e){var t=b(e,2),a=t[0],n=t[1];return React.createElement("label",{key:a,className:"flex items-center gap-2 text-sm"},React.createElement("input",{type:"checkbox",className:"w-4 h-4 accent-black",checked:i.risks.operations[a],onChange:function(e){return u(p(p({},i),{},{risks:p(p({},i.risks),{},{operations:p(p({},i.risks.operations),{},d({},a,e.target.checked))})}))}}),r(n))}),React.createElement("label",{className:"flex items-center gap-2 text-sm col-span-2"},React.createElement("input",{type:"checkbox",className:"w-4 h-4 accent-black",checked:i.risks.operations.autres,onChange:function(e){return u(p(p({},i),{},{risks:p(p({},i.risks),{},{operations:p(p({},i.risks.operations),{},{autres:e.target.checked})})}))}}),r("ops_others"))),i.risks.operations.autres&&React.createElement("input",{value:i.risks.operations.autresText,onChange:function(e){return u(p(p({},i),{},{risks:p(p({},i.risks),{},{operations:p(p({},i.risks.operations),{},{autresText:e.target.value})})}))},placeholder:r("ops_others_ph"),className:"mt-2 w-full px-3 py-2 rounded-xl border"})))),3===f&&React.createElement(q,{title:r("measures_title")},React.createElement("div",{className:"grid grid-cols-2 gap-2"},[["septRegles","measures_seven"],["ventilation","measures_ventilation"],["terre","measures_earth"],["balisage","measures_balisage"],["surveillant","measures_watch"],["planLevage","measures_liftplan"],["ancrage","measures_anchor"],["outilsOk","measures_toolsok"]].map(function(e){var t=b(e,2),a=t[0],n=t[1];return React.createElement("label",{key:a,className:"flex items-center gap-2 text-sm"},React.createElement("input",{type:"checkbox",className:"w-4 h-4 accent-black",checked:i.measures[a],onChange:function(e){return u(p(p({},i),{},{measures:p(p({},i.measures),{},d({},a,e.target.checked))}))}}),r(n))}),React.createElement("label",{className:"flex items-center gap-2 text-sm col-span-2"},React.createElement("input",{type:"checkbox",className:"w-4 h-4 accent-black",checked:i.measures.autre,onChange:function(e){return u(p(p({},i),{},{measures:p(p({},i.measures),{},{autre:e.target.checked})}))}}),r("other")),i.measures.autre&&React.createElement("input",{value:i.measures.autreText,onChange:function(e){return u(p(p({},i),{},{measures:p(p({},i.measures),{},{autreText:e.target.value})}))},placeholder:r("other_specify"),className:"mt-2 w-full px-3 py-2 rounded-xl border col-span-2"}))),4===f&&React.createElement(q,{title:r("top3_title")},React.createElement("div",{className:"flex flex-col gap-2"},i.top3.map(function(e,t){return React.createElement("div",{key:t,className:"grid grid-cols-1 gap-2"},React.createElement("div",{className:"text-sm font-medium"},"#",t+1),React.createElement("input",{value:e.risk,onChange:function(e){var a=h(i.top3);a[t]=p(p({},a[t]),{},{risk:e.target.value}),W("top3",a)},placeholder:r("risk_ph"),className:"px-3 py-2 rounded-xl border"}),React.createElement("input",{value:e.action,onChange:function(e){var a=h(i.top3);a[t]=p(p({},a[t]),{},{action:e.target.value}),W("top3",a)},placeholder:r("action_ph"),className:"px-3 py-2 rounded-xl border"}),React.createElement("input",{value:e.resp,onChange:function(e){var a=h(i.top3);a[t]=p(p({},a[t]),{},{resp:e.target.value}),W("top3",a)},placeholder:r("resp_ph"),className:"px-3 py-2 rounded-xl border"}),React.createElement("hr",{className:"my-2 border-gray-200"}))}))),5===f&&React.createElement(q,{title:r("decision_title")},React.createElement("div",{className:"flex flex-col gap-3"},React.createElement("div",{className:"flex items-center gap-3"},React.createElement("button",{onClick:function(){return W("decision","GO")},className:"px-4 py-2 rounded-xl border "+("GO"===i.decision?"bg-green-50 border-green-300":"")},r("go")),React.createElement("button",{onClick:function(){return W("decision","NO-GO")},className:"px-4 py-2 rounded-xl border "+("NO-GO"===i.decision?"bg-red-50 border-red-300":"")},r("no_go"))),"NO-GO"===i.decision&&React.createElement("div",{className:"grid grid-cols-1 gap-2"},React.createElement("input",{value:i.noGo.name,onChange:function(e){return W("noGo",p(p({},i.noGo),{},{name:e.target.value}))},placeholder:r("nogo_name_ph"),className:"px-3 py-2 rounded-xl border"}),React.createElement("input",{value:i.noGo.tel,onChange:function(e){return W("noGo",p(p({},i.noGo),{},{tel:e.target.value}))},placeholder:r("nogo_tel_ph"),className:"px-3 py-2 rounded-xl border"})),React.createElement("label",{className:"text-sm"},r("manager"),React.createElement("input",{value:i.responsable,onChange:function(e){return W("responsable",e.target.value)},placeholder:r("manager_ph"),className:"mt-1 w-full px-3 py-2 rounded-xl border"})),React.createElement("label",{className:"text-sm"},r("notes"),React.createElement("textarea",{value:i.notes,onChange:function(e){return W("notes",e.target.value)},rows:2,placeholder:r("notes_ph"),className:"mt-1 w-full px-3 py-2 rounded-xl border"})))),React.createElement("div",{className:"flex mt-4 "+(f>0?"justify-between":"justify-end")},f>0&&React.createElement("button",{onClick:function(){return g(f-1)},className:"px-3 py-2 rounded-xl border border-gray-300 bg-gray-200 text-gray-800 hover:bg-gray-300"},r("prev")),f<5?React.createElement("button",{onClick:function(){if(0===f){var e=i.teamInput.trim();e&&(i.team.includes(e)?u(p(p({},i),{},{teamInput:""})):u(p(p({},i),{},{team:[].concat(h(i.team),[e]),teamInput:""})));var t={metier:!i.metier.trim(),site:!(i.chantierManual.trim()||i.site.trim()),responsable:!(i.responsableManual.trim()||i.responsable.trim()),team:0===i.team.length};if(E(t),t.metier||t.site||t.responsable||t.team)return void alert(r("required_fields"))}g(f+1)},className:"px-3 py-2 rounded-xl border border-blue-600 bg-blue-600 text-white hover:bg-blue-700"},r("next")):React.createElement("button",{onClick:Q,className:"px-4 py-3 rounded-xl border bg-black text-white"},r("send"))))}function z(){var e=A().t,t="qhse_firstaid_state_v1",r=T(y,{responsable:"",team:[]}),n=function(){return{datetime:a(),chantier:"",responsable:r.responsable||"",personne:"",actions:{coupant:!1,disquant:!1,soudant:!1,percant:!1,tirant:!1,soulevant:!1,autre:!1,autreText:""},blessures:{coupure:!1,egratignure:!1,contusion:!1,projection:!1,brulure:!1,autre:!1,autreText:""},localisation:{main:!1,bras:!1,torse:!1,jambe:!1,pied:!1,tete:!1,oeil:!1,autre:!1,autreText:""},recharge:!1,trousseNumero:"",remarques:""}},l=b(React.useState(T(t,n())),2),o=l[0],c=l[1];React.useEffect(function(){O(t,o)},[o]);var i=b(React.useState({}),2),u=i[0],m=i[1],f=function(e,t){return c(p(p({},o),{},d({},e,t)))},h=function(){var t=_(s().m(function t(){var a,r;return s().w(function(t){for(;;)switch(t.n){case 0:if(a={chantier:!o.chantier.trim(),responsable:!o.responsable.trim()},m(a),!a.chantier&&!a.responsable){t.n=1;break}return alert(e("required_fields")),t.a(2);case 1:return r={meta:{sentAt:(new Date).toISOString(),page:location.href,userAgent:navigator.userAgent,formType:"firstaid"},data:o},t.n=2,I(r);case 2:t.v?(alert(e("alert_sent")),O(y,p(p({},T(y,{responsable:"",team:[]})),{},{responsable:o.responsable})),c(n()),m({})):(D(r),alert(e("alert_offline_queued")));case 3:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}();return React.createElement("main",{className:"max-w-md mx-auto p-4"},React.createElement("h1",{className:"mb-3 px-4 py-2 rounded-xl bg-[#104861] text-[#D9D9D9] text-center"},e("fa_title")),React.createElement("div",{className:"mb-3"},React.createElement("button",{onClick:function(){return c(n())},className:"px-3 py-2 rounded-xl border"},e("reset_all"))),React.createElement(q,{title:e("fa_info")},React.createElement("div",{className:"flex flex-col gap-3"},React.createElement("label",{className:"text-sm"},e("datetime"),React.createElement("input",{type:"datetime-local",value:o.datetime,onChange:function(e){return f("datetime",e.target.value)},className:"mt-1 w-full px-3 py-2 rounded-xl border"})),React.createElement("label",{className:"text-sm"},e("site"),React.createElement("input",{name:"chantier",value:o.chantier,onChange:function(e){var t=e.target.value;c(p(p({},o),{},{chantier:t,responsable:""})),u.chantier&&m(p(p({},u),{},{chantier:!1}))},className:"mt-1 w-full px-3 py-2 rounded-xl border ".concat(u.chantier?"border-red-500":"")}),u.chantier&&React.createElement("div",{className:"text-red-600 text-xs mt-1"},e("required_field"))),React.createElement("label",{className:"text-sm"},e("manager"),React.createElement("input",{list:"responsables-fa",name:"responsable",value:o.responsable,onChange:function(e){f("responsable",e.target.value),u.responsable&&m(p(p({},u),{},{responsable:!1}))},placeholder:e("manager_ph"),className:"mt-1 w-full px-3 py-2 rounded-xl border ".concat(u.responsable?"border-red-500":""),required:!0}),React.createElement("datalist",{id:"responsables-fa"},(k[o.site||o.chantier]||[]).map(function(e){return React.createElement("option",{key:e,value:e})})),u.responsable&&React.createElement("div",{className:"text-red-600 text-xs mt-1"},e("required_field"))),React.createElement("label",{className:"text-sm"},e("person"),React.createElement("input",{value:o.personne,onChange:function(e){return f("personne",e.target.value)},className:"mt-1 w-full px-3 py-2 rounded-xl border"})))),React.createElement(q,{title:e("action_title")},React.createElement("div",{className:"grid grid-cols-2 gap-2"},[["coupant","a_cut"],["disquant","a_grind"],["soudant","a_weld"],["percant","a_drill"],["tirant","a_pushpull"],["soulevant","a_lift"]].map(function(t){var a=b(t,2),r=a[0],n=a[1];return React.createElement("label",{key:r,className:"flex items-center gap-2 text-sm"},React.createElement("input",{type:"checkbox",className:"w-4 h-4 accent-black",checked:o.actions[r],onChange:function(e){return f("actions",p(p({},o.actions),{},d({},r,e.target.checked)))}}),e(n))}),React.createElement("label",{className:"flex items-center gap-2 text-sm col-span-2"},React.createElement("input",{type:"checkbox",className:"w-4 h-4 accent-black",checked:o.actions.autre,onChange:function(e){return f("actions",p(p({},o.actions),{},{autre:e.target.checked}))}}),e("other")),o.actions.autre&&React.createElement("input",{value:o.actions.autreText,onChange:function(e){return f("actions",p(p({},o.actions),{},{autreText:e.target.value}))},placeholder:e("other_specify"),className:"mt-2 w-full px-3 py-2 rounded-xl border col-span-2"}))),React.createElement(q,{title:e("injury_title")},React.createElement("div",{className:"grid grid-cols-2 gap-2"},[["coupure","i_cut"],["egratignure","i_scratch"],["contusion","i_bruise"],["projection","i_proj"],["brulure","i_burn"]].map(function(t){var a=b(t,2),r=a[0],n=a[1];return React.createElement("label",{key:r,className:"flex items-center gap-2 text-sm"},React.createElement("input",{type:"checkbox",className:"w-4 h-4 accent-black",checked:o.blessures[r],onChange:function(e){return f("blessures",p(p({},o.blessures),{},d({},r,e.target.checked)))}}),e(n))}),React.createElement("label",{className:"flex items-center gap-2 text-sm col-span-2"},React.createElement("input",{type:"checkbox",className:"w-4 h-4 accent-black",checked:o.blessures.autre,onChange:function(e){return f("blessures",p(p({},o.blessures),{},{autre:e.target.checked}))}}),e("other")),o.blessures.autre&&React.createElement("input",{value:o.blessures.autreText,onChange:function(e){return f("blessures",p(p({},o.blessures),{},{autreText:e.target.value}))},placeholder:e("other_specify"),className:"mt-2 w-full px-3 py-2 rounded-xl border col-span-2"}))),React.createElement(q,{title:e("location_title")},React.createElement("div",{className:"grid grid-cols-2 gap-2"},[["main","loc_hand"],["bras","loc_arm"],["torse","loc_torso"],["jambe","loc_leg"],["pied","loc_foot"],["tete","loc_head"],["oeil","loc_eye"]].map(function(t){var a=b(t,2),r=a[0],n=a[1];return React.createElement("label",{key:r,className:"flex items-center gap-2 text-sm"},React.createElement("input",{type:"checkbox",className:"w-4 h-4 accent-black",checked:o.localisation[r],onChange:function(e){return f("localisation",p(p({},o.localisation),{},d({},r,e.target.checked)))}}),e(n))}),React.createElement("label",{className:"flex items-center gap-2 text-sm col-span-2"},React.createElement("input",{type:"checkbox",className:"w-4 h-4 accent-black",checked:o.localisation.autre,onChange:function(e){return f("localisation",p(p({},o.localisation),{},{autre:e.target.checked}))}}),e("other")),o.localisation.autre&&React.createElement("input",{value:o.localisation.autreText,onChange:function(e){return f("localisation",p(p({},o.localisation),{},{autreText:e.target.value}))},placeholder:e("other_specify"),className:"mt-2 w-full px-3 py-2 rounded-xl border col-span-2"}))),React.createElement(q,{title:e("kit_title")},React.createElement("div",{className:"flex flex-col gap-3"},React.createElement("div",{className:"flex items-center gap-3"},React.createElement("span",{className:"text-sm"},e("kit_need")),React.createElement("label",{className:"text-sm inline-flex items-center gap-1"},React.createElement("input",{type:"radio",name:"recharge",checked:!o.recharge,onChange:function(){return f("recharge",!1)}})," ",e("no")),React.createElement("label",{className:"text-sm inline-flex items-center gap-1"},React.createElement("input",{type:"radio",name:"recharge",checked:o.recharge,onChange:function(){return f("recharge",!0)}})," ",e("yes"))),o.recharge&&React.createElement("label",{className:"text-sm"},e("kit_number"),React.createElement("input",{value:o.trousseNumero,onChange:function(e){return f("trousseNumero",e.target.value)},className:"mt-1 w-full px-3 py-2 rounded-xl border"})))),React.createElement(q,{title:e("remarks")},React.createElement("textarea",{value:o.remarques,onChange:function(e){return f("remarques",e.target.value)},rows:3,className:"w-full px-3 py-2 rounded-xl border"})),React.createElement("div",{className:"grid grid-cols-1 gap-2 mt-4"},React.createElement("button",{onClick:h,className:"px-4 py-3 rounded-xl border bg-black text-white"},e("send"))))}function F(){var e=A().t,t="qhse_stop_state_v1",r=T(y,{responsable:"",team:[]}),n=function(){return{datetime:a(),chantier:"",responsable:r.responsable||"",situation:"",callNom:"",callFonction:"chef",solution:"",noGo:""}},l=b(React.useState(T(t,n())),2),o=l[0],c=l[1];React.useEffect(function(){O(t,o)},[o]);var i=b(React.useState({}),2),u=i[0],m=i[1],f=function(e,t){return c(p(p({},o),{},d({},e,t)))},h=function(){var t=_(s().m(function t(){var a,r;return s().w(function(t){for(;;)switch(t.n){case 0:if(a={chantier:!o.chantier.trim(),responsable:!o.responsable.trim()},m(a),!a.chantier&&!a.responsable){t.n=1;break}return alert(e("required_fields")),t.a(2);case 1:return r={meta:{sentAt:(new Date).toISOString(),page:location.href,userAgent:navigator.userAgent,formType:"stop"},data:o},t.n=2,I(r);case 2:t.v?(alert(e("alert_sent")),O(y,p(p({},T(y,{responsable:"",team:[]})),{},{responsable:o.responsable})),c(n()),m({})):(D(r),alert(e("alert_offline_queued")));case 3:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}();return React.createElement("main",{className:"max-w-md mx-auto p-4"},React.createElement("h1",{className:"mb-3 px-4 py-2 rounded-xl bg-[#104861] text-[#D9D9D9] text-center"},e("stop_title")),React.createElement("div",{className:"mb-3"},React.createElement("button",{onClick:function(){return c(n())},className:"px-3 py-2 rounded-xl border"},e("reset_all"))),React.createElement(q,{title:e("coords")},React.createElement("div",{className:"flex flex-col gap-3"},React.createElement("label",{className:"text-sm"},e("datetime"),React.createElement("input",{type:"datetime-local",value:o.datetime,onChange:function(e){return f("datetime",e.target.value)},className:"mt-1 w-full px-3 py-2 rounded-xl border"})),React.createElement("label",{className:"text-sm"},e("site"),React.createElement("input",{name:"chantier",value:o.chantier,onChange:function(e){var t=e.target.value;c(p(p({},o),{},{chantier:t,responsable:""})),u.chantier&&m(p(p({},u),{},{chantier:!1}))},className:"mt-1 w-full px-3 py-2 rounded-xl border ".concat(u.chantier?"border-red-500":"")}),u.chantier&&React.createElement("div",{className:"text-red-600 text-xs mt-1"},e("required_field"))),React.createElement("label",{className:"text-sm"},e("manager"),React.createElement("input",{list:"responsables-stop",name:"responsable",value:o.responsable,onChange:function(e){f("responsable",e.target.value),u.responsable&&m(p(p({},u),{},{responsable:!1}))},placeholder:e("manager_ph"),className:"mt-1 w-full px-3 py-2 rounded-xl border ".concat(u.responsable?"border-red-500":""),required:!0}),React.createElement("datalist",{id:"responsables-stop"},(k[o.site||o.chantier]||[]).map(function(e){return React.createElement("option",{key:e,value:e})})),u.responsable&&React.createElement("div",{className:"text-red-600 text-xs mt-1"},e("required_field"))))),React.createElement(q,{title:e("stop_box"),tone:"red"},React.createElement("textarea",{value:o.situation,onChange:function(e){return f("situation",e.target.value)},rows:3,placeholder:e("stop_desc"),className:"w-full px-3 py-2 rounded-xl border"})),React.createElement(q,{title:e("call_box"),tone:"amber"},React.createElement("div",{className:"grid grid-cols-1 gap-3"},React.createElement("label",{className:"text-sm"},e("call_name"),React.createElement("input",{value:o.callNom,onChange:function(e){return f("callNom",e.target.value)},className:"mt-1 w-full px-3 py-2 rounded-xl border"})),React.createElement("label",{className:"text-sm"},e("call_role"),React.createElement("select",{value:o.callFonction,onChange:function(e){return f("callFonction",e.target.value)},className:"mt-1 w-full px-3 py-2 rounded-xl border"},React.createElement("option",{value:"chef"},e("role_chef")),React.createElement("option",{value:"site"},e("role_site")),React.createElement("option",{value:"pm"},e("role_pm")),React.createElement("option",{value:"opm"},e("role_opm")),React.createElement("option",{value:"cp"},e("role_cp")),React.createElement("option",{value:"coord"},e("role_coord")),React.createElement("option",{value:"client"},e("role_client")))))),React.createElement(q,{title:e("act_box"),tone:"green"},React.createElement("label",{className:"text-sm"},e("solution"),React.createElement("textarea",{value:o.solution,onChange:function(e){return f("solution",e.target.value)},rows:3,className:"mt-1 w-full px-3 py-2 rounded-xl border"}))),React.createElement(q,{tone:"dark",title:React.createElement(React.Fragment,null,React.createElement("span",{className:"text-red-600"},e("no_go"))," â€” ",(e("nogo_wait").split("â€”")[1]||e("nogo_wait")).trim())},React.createElement("textarea",{value:o.noGo,onChange:function(e){return f("noGo",e.target.value)},rows:2,className:"w-full px-3 py-2 rounded-xl border"})),React.createElement("div",{className:"grid grid-cols-1 gap-2 mt-4"},React.createElement("button",{onClick:h,className:"px-4 py-3 rounded-xl border bg-black text-white"},e("send"))))}function V(){return React.createElement("a",{href:"#home",className:"flex items-center gap-2","aria-label":"QHSE"},React.createElement("img",{src:"qhse-logo.svg",alt:"",className:"w-8 h-8 rounded-lg border",onError:function(e){e.currentTarget.replaceWith(Object.assign(document.createElement("span"),{className:"inline-flex items-center justify-center w-8 h-8 rounded-lg border font-bold",innerText:"QHSE"}))}}))}function W(){var e=A(),t=e.lang,a=e.setLang,r=function(e){var r=e.code,n=e.src,l=e.alt;return React.createElement("button",{onClick:function(){return a(r)},className:"w-9 h-9 flex items-center justify-center rounded-lg border "+(t===r?"bg-black":"bg-white"),"aria-label":r.toUpperCase(),title:r.toUpperCase()},React.createElement("img",{src:n,alt:l,className:"w-6 h-4 rounded-sm pointer-events-none select-none"}))};return React.createElement("div",{className:"flex items-center gap-1.5"},React.createElement(r,{code:"fr",src:"flag-fr.svg",alt:"FR"}),React.createElement(r,{code:"en",src:"flag-gb.svg",alt:"EN"}),React.createElement(r,{code:"nl",src:"flag-nl.svg",alt:"NL"}))}globalThis.addEventListener("online",function(){!function(){B.apply(this,arguments)}()}),globalThis.QHSE_Tile||(globalThis.QHSE_Tile=function(e){var t=e.href,a=e.icon,r=e.img,n=e.title,l=e.sub,o=e.muted;return React.createElement("a",{href:t||"#",className:["rounded-2xl p-4 text-center transition border",o?"border-dashed text-gray-300 pointer-events-none select-none":"hover:bg-gray-50"].join(" ")},r?React.createElement("img",{src:r,alt:"",className:"w-10 h-10 mx-auto rounded "+(o?"opacity-40":"")}):React.createElement("div",{className:"text-3xl font-bold "+(o?"opacity-40":"")},a||"ï¼‹"),n&&React.createElement("div",{className:"font-semibold mt-2"},n),l&&React.createElement("div",{className:"text-xs text-gray-500 mt-0.5"},l))});var Q=function(){function e(t){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(a=function(e,t,a){return t=c(t),function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,o()?Reflect.construct(t,a||[],c(e).constructor):t.apply(e,a))}(this,e,[t])).state={hasError:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(e,React.Component),t=e,n=[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}],(a=[{key:"componentDidCatch",value:function(e,t){console.error("ErrorBoundary caught an error",e,t)}},{key:"render",value:function(){return this.state.hasError?React.createElement("div",{className:"p-4 text-center text-red-600"},"Une erreur inattendue est survenue. Merci de recharger la page."):this.props.children}}])&&l(t.prototype,a),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,a,n}();function U(){var e=A().t,t=b(React.useState(S()),2),a=t[0],r=t[1];return React.useEffect(function(){var e=function(){return r(S())};return globalThis.addEventListener("hashchange",e),function(){return globalThis.removeEventListener("hashchange",e)}},[]),React.createElement("div",null,React.createElement("header",{className:"sticky top-0 z-10 bg-white/90 backdrop-blur border-b"},React.createElement("div",{className:"max-w-md mx-auto px-4 py-3 flex items-center justify-between gap-3"},React.createElement(V,null),React.createElement("div",{className:"flex items-center gap-3"},React.createElement(W,null),React.createElement("button",{onClick:function(){return globalThis.print()},className:"px-3 py-1.5 rounded-xl border"},e("print"))))),"home"===a&&React.createElement(G,null),"lmra"===a&&React.createElement(H,null),"firstaid"===a&&React.createElement(z,null),"stop"===a&&React.createElement(F,null),React.createElement("footer",{className:"max-w-md mx-auto px-4 pb-8 text-center text-xs text-gray-400"},"QHSE PWA â€¢ DonnÃ©es locales + collecte centrale"))}ReactDOM.createRoot(document.getElementById("root")).render(React.createElement(P,null,React.createElement(Q,null,React.createElement(U,null))))})();